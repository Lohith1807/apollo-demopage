# Apollo University Portal

A robust, multi-tenant university management system designed for scale, flexibility, and 100% data integrity. The Apollo University Portal unifies academic progression, dynamic scholarship calculations, structural multi-tenancy, and automated financial clearances into a single, seamless platform.

## ðŸŒŸ Key Features

### 1. **Multi-Tenant Architectural Hierarchy**
The database is fully normalized and relational. The hierarchy isolates data so that queries resolve to specific scopes dynamically.
*   **University** -> **School** -> **Department** -> **Batch** -> **Student**
*   Allows multiple independent Schools and Departments to coexist without data leaks or hardcoded rules.

### 2. **Financial Gating & Dynamic Scholarships**
*   **Performance-based rules:** Scholarships are applied automatically based on the prior semester's exam performance against configurable percentages (e.g., scoring 90%+ unlocks a 'Gold Medal' rule granting 50% off tuition).
*   **School-specific Fee Models:** Each School/Department configures its own itemized billing structures per semester dynamically.
*   **Ledger Consistency:** Once generated by HR/Finance, the StudentFeeRecord is immutable. Past semester invoices remain structurally intact even if rule configurations change entirely the next year.

### 3. **Automated Academic Progression**
Instead of simplistic hardcoded "next semester" buttons, progression is tied strictly to logic events:
1.  **Exam Output:** Teachers publish final grades.
2.  **Fee Calculation:** Finance/HR triggers new semester billing, factoring in performance scholarships.
3.  **Financial Clearance:** Student makes atomic payment. Due amount reaching <= 0 flags the student as `isEligibleForNextSemester`.
4.  **Promotion Execution:** Upon self-service or admin promotion, the system logs failed subjects as `backlogs`, increments the `currentSemester` explicitly, and dynamically fetches all correct newly-approved subjects for that Department's correct term.

### 4. **Strict Role-Based Access Control (RBAC)**
Access controls are mapped natively.
*   **Registrar:** Super global administrative view over the core University. Sets generic policies.
*   **Dean:** Top-level view scoped tightly to their specific School.
*   **HR / Finance:** Restricted to billing, viewing ledgers, configuring Scholarship Rules, and releasing semester Fees.
*   **Teacher:** Handles classroom attendance logs and semester mark publishing.
*   **Student:** Read-only access to academic history, results, and self-service financial settlement portals.

## ðŸ›  Tech Stack

*   **Frontend**: React (Vite), Tailwind CSS, Context API.
*   **Backend**: Node.js, Express.js.
*   **Database**: MongoDB (via Mongoose ODM). Deep utilization of ObjectIds, population, compound indexing, and MongoDB ACID-compliant `$transactions` for payments.
*   **Deployment**: Vercel (CI/CD Integrated) handling both the React app delivery and Serverless Node APIs natively simultaneously via rewriting.

## ðŸš€ Local Development setup

1.  **Install dependencies:**
    ```bash
    npm install
    cd server && npm install
    ```
2.  **Environment Variables:**
    Ensure you place your `.env` connection variables inside the `/server` folder. Minimum expected:
    ```env
    MONGODB_URI=mongodb+srv://...
    JWT_SECRET=your_secure_jwt_secret
    ```
3.  **Run Development Tools:**
    Run the application backend and frontend combined using concurrently:
    ```bash
    npm run dev
    ```

## ðŸŒ Production Architecture (Vercel)

The system is deployed using `vercel.json` rewrite routing.
*   `GET /api/*` -> Dispatches instantly to the backend Node Express app built as a serverless function payload.
*   `GET /*` -> Automatically builds and routes single-page-app requests to the static compiled React `index.html`. 
